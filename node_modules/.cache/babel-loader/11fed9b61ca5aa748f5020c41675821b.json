{"ast":null,"code":"const getTeamsInfo = require(\"./team-info\");\n\nconst sportVu = require(\"./sport-vu\");\n\nconst stats = require(\"./stats\");\n\nconst synergy = require(\"./synergy\");\n\nconst data = require(\"./data\");\n\nconst teams = require(\"../data/teams.json\");\n\nconst buildPlayers = require(\"./util/build-players\");\n\nconst players = buildPlayers(require(\"../data/players.json\"));\nconst nba = {\n  // namespaces for NBA API endpoints\n  stats,\n  sportVu,\n  synergy,\n  data,\n  // in-memory data to help with constructing queries\n  players,\n  teams,\n  // helpers for searching in-memory data\n  teamIdFromName,\n  playerIdFromName,\n  findPlayer,\n  searchPlayers,\n  // update in-memory data\n  updatePlayers,\n  updateTeams\n};\n\nfunction teamIdFromName(name) {\n  const n = name.toLowerCase();\n  const team = nba.teams.find(function (t) {\n    return t.abbreviation.toLowerCase() === n || t.location.toLowerCase() === n || t.teamName.toLowerCase() === n || t.simpleName.toLowerCase() === n;\n  });\n  return team ? team.teamId : null;\n}\n\nfunction playerIdFromName(name) {\n  const p = findPlayer(name);\n  return p ? p.playerId : null;\n}\n\nfunction findPlayer(str) {\n  str = str.toLowerCase();\n  return nba.players.find(function (p) {\n    return p.fullName.toLowerCase().includes(str);\n  });\n}\n\nfunction searchPlayers(str) {\n  str = str.toLowerCase();\n  return nba.players.filter(function (p) {\n    return p.fullName.toLowerCase().includes(str);\n  });\n}\n\nfunction updatePlayers() {\n  return nba.stats.playersInfo().then(function (result) {\n    nba.players = buildPlayers(result);\n    return result;\n  });\n}\n\nfunction updateTeams() {\n  return getTeamsInfo().then(function (result) {\n    nba.teams = result;\n    return result;\n  });\n}\n\nmodule.exports = nba;","map":{"version":3,"sources":["/Users/mango/Documents/Personal/Web/NBA/node_modules/nba/src/index.js"],"names":["getTeamsInfo","require","sportVu","stats","synergy","data","teams","buildPlayers","players","nba","teamIdFromName","playerIdFromName","findPlayer","searchPlayers","updatePlayers","updateTeams","name","n","toLowerCase","team","find","t","abbreviation","location","teamName","simpleName","teamId","p","playerId","str","fullName","includes","filter","playersInfo","then","result","module","exports"],"mappings":"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","sourcesContent":["const getTeamsInfo = require(\"./team-info\");\n\nconst sportVu = require(\"./sport-vu\");\nconst stats = require(\"./stats\");\nconst synergy = require(\"./synergy\");\nconst data = require(\"./data\"); \n\nconst teams = require(\"../data/teams.json\");\nconst buildPlayers = require(\"./util/build-players\");\n\nconst players = buildPlayers(require(\"../data/players.json\"));\n\nconst nba = {\n  // namespaces for NBA API endpoints\n  stats,\n  sportVu,\n  synergy,\n  data,\n\n  // in-memory data to help with constructing queries\n  players,\n  teams,\n\n  // helpers for searching in-memory data\n  teamIdFromName,\n  playerIdFromName,\n  findPlayer,\n  searchPlayers,\n\n  // update in-memory data\n  updatePlayers,\n  updateTeams,\n};\n\nfunction teamIdFromName (name) {\n  const n = name.toLowerCase();\n  const team = nba.teams.find(function (t) {\n    return (\n      t.abbreviation.toLowerCase() === n ||\n      t.location.toLowerCase() === n ||\n      t.teamName.toLowerCase() === n ||\n      t.simpleName.toLowerCase() === n\n    );\n  });\n  return team ? team.teamId : null;\n}\n\nfunction playerIdFromName (name) {\n  const p = findPlayer(name);\n  return p ? p.playerId : null;\n}\n\nfunction findPlayer (str) {\n  str = str.toLowerCase();\n  return nba.players.find(function (p) {\n    return p.fullName.toLowerCase().includes(str);\n  });\n}\n\nfunction searchPlayers (str) {\n  str = str.toLowerCase();\n  return nba.players.filter(function (p) {\n    return p.fullName.toLowerCase().includes(str);\n  });\n}\n\nfunction updatePlayers () {\n  return nba.stats.playersInfo().then(function (result) {\n    nba.players = buildPlayers(result);\n    return result;\n  });\n}\n\nfunction updateTeams () {\n  return getTeamsInfo().then(function (result) {\n    nba.teams = result;\n    return result;\n  });\n}\n\nmodule.exports = nba;\n"]},"metadata":{},"sourceType":"script"}