{"ast":null,"code":"const mergeCollections = require(\"./util/merge-collections\");\n\nconst blank = require(\"./util/blank\");\n\nconst stats = require(\"./stats\");\n\nconst pick = require(\"lodash.pick\");\n\nconst TWO_WORD_TEAMS = blank({\n  \"Portland Trail Blazers\": true\n}); // adds location city and short name (i.e. 'Warriors') data to team objects.\n\nfunction addExtraTeamData(team) {\n  team.teamName = team.teamName.trim();\n  const splitted = team.teamName.split(\" \");\n\n  if (TWO_WORD_TEAMS[team.teamName]) {\n    team.simpleName = splitted.splice(-2, 2).join(\" \");\n  } else {\n    team.simpleName = splitted.splice(-1, 1).join();\n  }\n\n  team.location = splitted.join(\" \");\n  return team;\n}\n\nfunction teamInfo() {\n  return Promise.all([stats.teamStats(), stats.teamYears()]).then(function ([teamStats, teamYears]) {\n    return mergeCollections(\"teamId\", teamStats, teamYears).map(function (d) {\n      return addExtraTeamData(pick(d, \"teamId\", \"abbreviation\", \"teamName\"));\n    });\n  });\n}\n\nmodule.exports = teamInfo;","map":{"version":3,"sources":["/Users/mango/Documents/Personal/Web/NBA/node_modules/nba/src/team-info.js"],"names":["mergeCollections","require","blank","stats","pick","TWO_WORD_TEAMS","addExtraTeamData","team","teamName","trim","splitted","split","simpleName","splice","join","location","teamInfo","Promise","all","teamStats","teamYears","then","map","d","module","exports"],"mappings":"AAAA,MAAMA,gBAAgB,GAAGC,OAAO,CAAC,0BAAD,CAAhC;;AACA,MAAMC,KAAK,GAAGD,OAAO,CAAC,cAAD,CAArB;;AACA,MAAME,KAAK,GAAGF,OAAO,CAAC,SAAD,CAArB;;AAEA,MAAMG,IAAI,GAAGH,OAAO,CAAC,aAAD,CAApB;;AAEA,MAAMI,cAAc,GAAGH,KAAK,CAAC;AAC3B,4BAA0B;AADC,CAAD,CAA5B,C,CAIA;;AACA,SAASI,gBAAT,CAA2BC,IAA3B,EAAiC;AAC/BA,EAAAA,IAAI,CAACC,QAAL,GAAgBD,IAAI,CAACC,QAAL,CAAcC,IAAd,EAAhB;AACA,QAAMC,QAAQ,GAAGH,IAAI,CAACC,QAAL,CAAcG,KAAd,CAAoB,GAApB,CAAjB;;AACA,MAAIN,cAAc,CAACE,IAAI,CAACC,QAAN,CAAlB,EAAmC;AACjCD,IAAAA,IAAI,CAACK,UAAL,GAAkBF,QAAQ,CAACG,MAAT,CAAgB,CAAC,CAAjB,EAAoB,CAApB,EAAuBC,IAAvB,CAA4B,GAA5B,CAAlB;AACD,GAFD,MAEO;AACLP,IAAAA,IAAI,CAACK,UAAL,GAAkBF,QAAQ,CAACG,MAAT,CAAgB,CAAC,CAAjB,EAAoB,CAApB,EAAuBC,IAAvB,EAAlB;AACD;;AACDP,EAAAA,IAAI,CAACQ,QAAL,GAAgBL,QAAQ,CAACI,IAAT,CAAc,GAAd,CAAhB;AACA,SAAOP,IAAP;AACD;;AAED,SAASS,QAAT,GAAqB;AACnB,SAAOC,OAAO,CAACC,GAAR,CAAY,CACjBf,KAAK,CAACgB,SAAN,EADiB,EAEjBhB,KAAK,CAACiB,SAAN,EAFiB,CAAZ,EAGJC,IAHI,CAGC,UAAU,CAACF,SAAD,EAAYC,SAAZ,CAAV,EAAkC;AACxC,WAAOpB,gBAAgB,CAAC,QAAD,EAAWmB,SAAX,EAAsBC,SAAtB,CAAhB,CAAiDE,GAAjD,CAAqD,UAAUC,CAAV,EAAa;AACvE,aAAOjB,gBAAgB,CAACF,IAAI,CAACmB,CAAD,EAAI,QAAJ,EAAc,cAAd,EAA8B,UAA9B,CAAL,CAAvB;AACD,KAFM,CAAP;AAGD,GAPM,CAAP;AAQD;;AAEDC,MAAM,CAACC,OAAP,GAAiBT,QAAjB","sourcesContent":["const mergeCollections = require(\"./util/merge-collections\");\nconst blank = require(\"./util/blank\");\nconst stats = require(\"./stats\");\n\nconst pick = require(\"lodash.pick\");\n\nconst TWO_WORD_TEAMS = blank({\n  \"Portland Trail Blazers\": true,\n});\n\n// adds location city and short name (i.e. 'Warriors') data to team objects.\nfunction addExtraTeamData (team) {\n  team.teamName = team.teamName.trim();\n  const splitted = team.teamName.split(\" \");\n  if (TWO_WORD_TEAMS[team.teamName]) {\n    team.simpleName = splitted.splice(-2, 2).join(\" \");\n  } else {\n    team.simpleName = splitted.splice(-1, 1).join();\n  }\n  team.location = splitted.join(\" \");\n  return team;\n}\n\nfunction teamInfo () {\n  return Promise.all([\n    stats.teamStats(),\n    stats.teamYears(),\n  ]).then(function ([teamStats, teamYears]) {\n    return mergeCollections(\"teamId\", teamStats, teamYears).map(function (d) {\n      return addExtraTeamData(pick(d, \"teamId\", \"abbreviation\", \"teamName\"));\n    });\n  });\n}\n\nmodule.exports = teamInfo;\n"]},"metadata":{},"sourceType":"script"}